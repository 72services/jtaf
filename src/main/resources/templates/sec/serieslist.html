<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" th:lang="${#locale.language}">
<head th:replace="common/head :: head"></head>
<body>

<!--/*@thymesVar id="organization" type="java.lang.String"*/-->
<div th:include="sec/common/navigation :: navigation ('series', ${organization})"></div>

<main role="main" class="container">

    <div class="row">
        <div class="col-lg-10">
            <h1 th:text="#{messages.series}">Series</h1>
        </div>
        <div class="col-lg-2 text-right">
            <a th:href="@{/sec/{organization}/series(organization=${organization})}" th:text="#{messages.add_series}"
               class="text-right font-weight-bold">Add Series</a>
        </div>
    </div>
    <!--/*@thymesVar id="seriesList" type="java.util.List<Series>"*/-->
    <!--/*@thymesVar id="series" type="ch.jtaf.entity.Series"*/-->
    <div class="row pt-2 pb-5" th:each="series: ${seriesList}">
        <div class="col-lg-12">
            <div class="row">
                <div class="col-lg-8">
                    <a th:href="@{/sec/{organization}/series/{id}(organization=${organization},id=${series.id})}"
                       th:text="${series.name}" class="font-weight-bold">CIS 2018</a>
                </div>
                <div class="col-lg-4 text-right">
                    <a th:href="@{/sec/{organization}/{id}/delete(organization=${organization},id=${series.id})}"
                       th:text="#{messages.delete}" onclick="return confirm('Are you sure?')">Delete</a>

                    <a th:href="@{/ranking/series/{id}(id=${series.id})}" th:text="#{messages.ranking}">Ranking</a>
                </div>
            </div>

            <!--/*@thymesVar id="competitions" type="java.util.List<Competition>"*/-->
            <!--/*@thymesVar id="competition" type="ch.jtaf.entity.Competition"*/-->
            <div class="row pt-3" th:if="${!series.competitions.isEmpty()}" th:each="competition: ${series.competitions}">
                <div class="col-lg-7">
                    <span th:text="${competition.name}">CIS 1</span>
                </div>
                <div class="col-lg-2">
                    <span th:text="${competition.competitionDate.toString()}">2017-06-10</span>
                </div>
                <div class="col-lg-1">
                    <span th:text="${competition.numberOfAthletesWithResults + '/' + competition.numberOfAthletes}"> Athletes 1/10</span>
                </div>
                <div class="col-lg-2 text-right">
                    <a th:href="@{/sec/{organization}/series/{seriesId}/competition/{competitionId}/results(organization=${organization},competitionId=${competition.id},seriesId=${series.id})}"
                       th:text="#{messages.enter_results}">Enter Results</a>

                    <a th:href="@{/ranking/competition/{id}(id=${competition.id})}" th:text="#{messages.ranking}">Ranking</a>
                </div>
            </div>
        </div>
    </div>

    <div th:include="common/footer :: copy"></div>

</main>
</body>
</html>